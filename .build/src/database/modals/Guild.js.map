{"version":3,"file":"Guild.js","sources":["src/database/modals/Guild.ts"],"sourceRoot":"/","sourcesContent":["import { PermissionFlagsBits } from \"discord.js\";\r\nimport mongoose from \"mongoose\";\r\nimport Ajv from \"ajv\";\r\nconst ajv = new Ajv();\r\n\r\nexport const messageSchema = new mongoose.Schema({\r\n  _id: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  server: {\r\n    type: String,\r\n    ref: \"Guilds\",\r\n    required: true,\r\n  },\r\n\r\n  content: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  embeds: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n  components: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n  attachments: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n});\r\n\r\nconst validPermissions = Object.keys(PermissionFlagsBits);\r\n\r\nconst TicketPermissionsSchema = new mongoose.Schema(\r\n  {\r\n    canClose: { type: Boolean, default: false },\r\n    canCloseIfOwn: { type: Boolean, default: false },\r\n    canForceOpen: { type: Boolean, default: false },\r\n    canMove: { type: Boolean, default: false },\r\n    canLock: { type: Boolean, default: false },\r\n    canUnlock: { type: Boolean, default: false },\r\n    canViewTranscripts: { type: Boolean, default: false },\r\n    canViewLockedTranscripts: { type: Boolean, default: false },\r\n    channelPermissions: {\r\n      type: new mongoose.Schema(\r\n        {\r\n          allow: {\r\n            type: [String],\r\n            default: [],\r\n            validate: {\r\n              validator: (vals: string[]) =>\r\n                vals.every((val) => validPermissions.includes(val)),\r\n              message: (vals: string[]) =>\r\n                `Invalid permissions in allow: ${vals\r\n                  .filter((val) => !validPermissions.includes(val))\r\n                  .join(\", \")}`,\r\n            },\r\n          },\r\n          deny: {\r\n            type: [String],\r\n            default: [],\r\n            validate: {\r\n              validator: (vals: string[]) =>\r\n                vals.every((val) => validPermissions.includes(val)),\r\n              message: (vals: string[]) =>\r\n                `Invalid permissions in deny: ${vals\r\n                  .filter((val) => !validPermissions.includes(val))\r\n                  .join(\", \")}`,\r\n            },\r\n          },\r\n        },\r\n        { _id: false }\r\n      ),\r\n      default: () => ({ allow: [], deny: [] }),\r\n    },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst MessagesPermissionsSchema = new mongoose.Schema(\r\n  {\r\n    create: { type: Boolean, default: false },\r\n    edit: { type: Boolean, default: false },\r\n    delete: { type: Boolean, default: false },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst TagsPermissionsSchema = new mongoose.Schema(\r\n  {\r\n    create: { type: Boolean, default: false },\r\n    edit: { type: Boolean, default: false },\r\n    delete: { type: Boolean, default: false },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst AutoRespondersPermissionsSchema = new mongoose.Schema(\r\n  {\r\n    create: { type: Boolean, default: false },\r\n    edit: { type: Boolean, default: false },\r\n    delete: { type: Boolean, default: false },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst ApplicationsPermissionsSchema = new mongoose.Schema(\r\n  {\r\n    manage: { type: Boolean, default: false },\r\n    respond: { type: Boolean, default: false },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst PanelsPermissionsSchema = new mongoose.Schema(\r\n  {\r\n    manage: { type: Boolean, default: false },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst PermissionsSchema = new mongoose.Schema(\r\n  {\r\n    tickets: { type: TicketPermissionsSchema, default: () => ({}) },\r\n    messages: { type: MessagesPermissionsSchema, default: () => ({}) },\r\n    tags: { type: TagsPermissionsSchema, default: () => ({}) },\r\n    autoResponders: {\r\n      type: AutoRespondersPermissionsSchema,\r\n      default: () => ({}),\r\n    },\r\n    applications: { type: ApplicationsPermissionsSchema, default: () => ({}) },\r\n    panels: { type: PanelsPermissionsSchema, default: () => ({}) },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nexport const groupSchema = new mongoose.Schema({\r\n  _id: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  name: { type: String, required: true },\r\n  server: { type: String, ref: \"Guilds\", required: true },\r\n  roles: { type: [String], default: [] },\r\n  extraMembers: { type: [String], default: [] },\r\n  permissions: { type: PermissionsSchema, default: () => ({}) },\r\n});\r\n\r\nconst LogChannelSchema = new mongoose.Schema(\r\n  {\r\n    enabled: { type: Boolean, default: true },\r\n    channel: { type: String, default: null },\r\n    webhook: { type: String, default: null },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst LoggingSchema = new mongoose.Schema(\r\n  {\r\n    general: { type: LogChannelSchema, default: () => ({}) },\r\n    tickets: {\r\n      type: {\r\n        feedback: { type: LogChannelSchema, default: () => ({}) },\r\n        open: { type: LogChannelSchema, default: () => ({}) },\r\n        close: { type: LogChannelSchema, default: () => ({}) },\r\n        lock: { type: LogChannelSchema, default: () => ({}) },\r\n        unlock: { type: LogChannelSchema, default: () => ({}) },\r\n        raise: { type: LogChannelSchema, default: () => ({}) },\r\n        lower: { type: LogChannelSchema, default: () => ({}) },\r\n        move: { type: LogChannelSchema, default: () => ({}) },\r\n        transcripts: { type: LogChannelSchema, default: () => ({}) },\r\n      },\r\n\r\n      default: () => ({}),\r\n    },\r\n    applications: {\r\n      type: {\r\n        create: { type: LogChannelSchema, default: () => ({}) },\r\n        approve: { type: LogChannelSchema, default: () => ({}) },\r\n        reject: { type: LogChannelSchema, default: () => ({}) },\r\n        delete: { type: LogChannelSchema, default: () => ({}) },\r\n      },\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst SettingsSchema = new mongoose.Schema(\r\n  {\r\n    logging: { type: LoggingSchema, default: () => ({}) },\r\n    autoResponders: {\r\n      extraAllowedChannels: { type: [String], default: [] },\r\n    },\r\n  },\r\n  { _id: false }\r\n);\r\n\r\nconst schema = new mongoose.Schema(\r\n  {\r\n    _id: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    active: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    preferredLanguage: {\r\n      type: String,\r\n      default: \"en\",\r\n    },\r\n\r\n    settings: { type: SettingsSchema, default: () => ({}) },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\nexport const GuildSchema = mongoose.model(\"Guilds\", schema);\r\nexport const GroupSchema = mongoose.model(\"Groups\", groupSchema);\r\nexport const MessageSchema = mongoose.model(\"Messages\", messageSchema);\r\n\r\nconst ajvGroupSchema = {\r\n  type: \"object\",\r\n  properties: {\r\n    name: { type: \"string\" },\r\n    roles: {\r\n      type: \"array\",\r\n      items: { type: \"string\" },\r\n      default: [],\r\n    },\r\n    extraMembers: {\r\n      type: \"array\",\r\n      items: { type: \"string\" },\r\n      default: [],\r\n    },\r\n    permissions: {\r\n      type: \"object\",\r\n      properties: {\r\n        tickets: {\r\n          type: \"object\",\r\n          properties: {\r\n            canClose: { type: \"boolean\", default: false },\r\n            canCloseIfOwn: { type: \"boolean\", default: false },\r\n            canForceOpen: { type: \"boolean\", default: false },\r\n            canMove: { type: \"boolean\", default: false },\r\n            canLock: { type: \"boolean\", default: false },\r\n            canUnlock: { type: \"boolean\", default: false },\r\n            canViewTranscripts: { type: \"boolean\", default: false },\r\n            canViewLockedTranscripts: { type: \"boolean\", default: false },\r\n            channelPermissions: {\r\n              type: \"object\",\r\n              properties: {\r\n                allow: {\r\n                  type: \"array\",\r\n                  items: { type: \"string\", enum: validPermissions },\r\n                  default: [],\r\n                },\r\n                deny: {\r\n                  type: \"array\",\r\n                  items: { type: \"string\", enum: validPermissions },\r\n                  default: [],\r\n                },\r\n              },\r\n              required: [\"allow\", \"deny\"],\r\n              additionalProperties: false,\r\n              default: {},\r\n            },\r\n          },\r\n          required: [\r\n            \"canClose\",\r\n            \"canCloseIfOwn\",\r\n            \"canForceOpen\",\r\n            \"canMove\",\r\n            \"canLock\",\r\n            \"canUnlock\",\r\n            \"canViewTranscripts\",\r\n            \"canViewLockedTranscripts\",\r\n            \"channelPermissions\",\r\n          ],\r\n          additionalProperties: false,\r\n          default: {},\r\n        },\r\n        messages: {\r\n          type: \"object\",\r\n          properties: {\r\n            create: { type: \"boolean\", default: false },\r\n            edit: { type: \"boolean\", default: false },\r\n            delete: { type: \"boolean\", default: false },\r\n          },\r\n          required: [\"create\", \"edit\", \"delete\"],\r\n          additionalProperties: false,\r\n          default: {},\r\n        },\r\n        tags: {\r\n          type: \"object\",\r\n          properties: {\r\n            create: { type: \"boolean\", default: false },\r\n            edit: { type: \"boolean\", default: false },\r\n            delete: { type: \"boolean\", default: false },\r\n          },\r\n          required: [\"create\", \"edit\", \"delete\"],\r\n          additionalProperties: false,\r\n          default: {},\r\n        },\r\n        autoResponders: {\r\n          type: \"object\",\r\n          properties: {\r\n            create: { type: \"boolean\", default: false },\r\n            edit: { type: \"boolean\", default: false },\r\n            delete: { type: \"boolean\", default: false },\r\n          },\r\n          required: [\"create\", \"edit\", \"delete\"],\r\n          additionalProperties: false,\r\n          default: {},\r\n        },\r\n        applications: {\r\n          type: \"object\",\r\n          properties: {\r\n            manage: { type: \"boolean\", default: false },\r\n            respond: { type: \"boolean\", default: false },\r\n          },\r\n          required: [\"manage\", \"respond\"],\r\n          additionalProperties: false,\r\n          default: {},\r\n        },\r\n        panels: {\r\n          type: \"object\",\r\n          properties: {\r\n            manage: { type: \"boolean\", default: false },\r\n          },\r\n          required: [\"manage\"],\r\n          additionalProperties: false,\r\n          default: {},\r\n        },\r\n      },\r\n      required: [\r\n        \"tickets\",\r\n        \"messages\",\r\n        \"tags\",\r\n        \"autoResponders\",\r\n        \"applications\",\r\n        \"panels\",\r\n      ],\r\n      additionalProperties: false,\r\n      default: {},\r\n    },\r\n  },\r\n  required: [\"name\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nexport const GroupSchemaValidator = ajv.compile(ajvGroupSchema);\r\n"],"names":[],"mappings":"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","debug_id":"00ad94fb-992c-5112-8dff-78768d5a52d2"}