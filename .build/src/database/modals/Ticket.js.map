{"version":3,"file":"Ticket.js","sources":["src/database/modals/Ticket.ts"],"sourceRoot":"/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst response = new mongoose.Schema({\n  question: {\n    type: String,\n    required: true,\n  },\n  response: {\n    type: String,\n    default: \"None\",\n  },\n});\n\nconst schema = new mongoose.Schema(\n  {\n    _id: { type: String, required: true },\n    server: {\n      type: String,\n      required: true,\n      ref: \"Guilds\",\n    },\n    trigger: {\n      type: String,\n      required: true,\n      ref: \"Ticket Triggers\",\n    },\n    status: {\n      type: String,\n      default: \"Open\",\n      enum: [\"Open\", \"Closed\", \"Locked\"],\n    },\n    isRaised: {\n      type: Boolean,\n      default: false,\n    },\n    owner: {\n      type: String,\n      required: true,\n    },\n    groups: {\n      type: [String],\n      default: [],\n    },\n    channel: {\n      type: String,\n      required: true,\n    },\n    allowAutoResponders: {\n      type: Boolean,\n      default: true,\n    },\n    closeChannel: {\n      type: String,\n      default: null,\n    },\n    categoriesAvailableToMoveTicketsTo: {\n      type: [String],\n      default: [],\n    },\n    takeTranscripts: {\n      type: Boolean,\n      default: true,\n    },\n    closeOnLeave: {\n      type: Boolean,\n      default: true,\n    },\n    responses: {\n      type: [response],\n      default: [],\n    },\n\n    addRolesOnOpen: { type: [String], default: [] },\n    addRolesOnClose: { type: [String], default: [] },\n    removeRolesOnOpen: { type: [String], default: [] },\n    removeRolesOnClose: { type: [String], default: [] },\n\n    allowRaising: { type: Boolean, default: true },\n    allowReopening: { type: Boolean, default: true },\n    syncChannelPermissionsWhenMoved: { type: Boolean, default: false },\n\n    dmOnClose: { type: String, default: null },\n    createdAt: { type: Date, default: null, required: true },\n    deletedAt: { type: Date, default: null },\n    closeReason: { type: String, default: null },\n  },\n  {\n    timestamps: false,\n  }\n);\n\nexport const TicketSchema = mongoose.model(\"Tickets\", schema);\n"],"names":[],"mappings":"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","debug_id":"5082ee50-06d9-5e41-9fb0-15f221ec1488"}