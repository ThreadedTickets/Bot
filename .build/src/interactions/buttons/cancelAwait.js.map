{"version":3,"file":"cancelAwait.js","sources":["src/interactions/buttons/cancelAwait.ts"],"sourceRoot":"/","sourcesContent":["import { MessageFlags } from \"discord.js\";\nimport { TaskScheduler } from \"../..\";\nimport { t } from \"../../lang\";\nimport { ButtonHandler } from \"../../types/Interactions\";\nimport logger from \"../../utils/logger\";\n\nconst button: ButtonHandler = {\n  customId: \"cancelAwait\",\n  async execute(client, data, interaction) {\n    const tId = interaction.customId.split(\":\")[1];\n    if (!(await TaskScheduler.taskExists(`AWAIT-${tId}`)))\n      return interaction.reply({\n        content: t(data.lang!, \"TICKET_NOT_AWAITING\"),\n        flags: [MessageFlags.Ephemeral],\n      });\n\n    TaskScheduler.removeTask(`AWAIT-${tId}`);\n    interaction.reply({\n      content: t(data.lang!, \"TICKET_AWAIT_CANCEL\", {\n        user: interaction.user.id,\n      }),\n      flags: [MessageFlags.Ephemeral],\n    });\n    interaction.channel.send({\n      content: t(data.lang!, \"TICKET_AWAIT_CANCEL\", {\n        user: interaction.user.id,\n      }),\n      allowedMentions: {},\n    });\n    logger.debug(`Canceled await-reply task on ticket ${tId}`);\n  },\n};\n\nexport default button;\n"],"names":[],"mappings":";;;;;;;AAAA,2CAA0C;AAC1C,6BAAsC;AACtC,qCAA+B;AAE/B,gEAAwC;AAExC,MAAM,MAAM,GAAkB;IAC5B,QAAQ,EAAE,aAAa;IACvB,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,WAAW;QACrC,MAAM,GAAG,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,CAAC,MAAM,iBAAa,CAAC,UAAU,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC;YACnD,OAAO,WAAW,CAAC,KAAK,CAAC;gBACvB,OAAO,EAAE,IAAA,QAAC,EAAC,IAAI,CAAC,IAAK,EAAE,qBAAqB,CAAC;gBAC7C,KAAK,EAAE,CAAC,yBAAY,CAAC,SAAS,CAAC;aAChC,CAAC,CAAC;QAEL,iBAAa,CAAC,UAAU,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC;QACzC,WAAW,CAAC,KAAK,CAAC;YAChB,OAAO,EAAE,IAAA,QAAC,EAAC,IAAI,CAAC,IAAK,EAAE,qBAAqB,EAAE;gBAC5C,IAAI,EAAE,WAAW,CAAC,IAAI,CAAC,EAAE;aAC1B,CAAC;YACF,KAAK,EAAE,CAAC,yBAAY,CAAC,SAAS,CAAC;SAChC,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC;YACvB,OAAO,EAAE,IAAA,QAAC,EAAC,IAAI,CAAC,IAAK,EAAE,qBAAqB,EAAE;gBAC5C,IAAI,EAAE,WAAW,CAAC,IAAI,CAAC,EAAE;aAC1B,CAAC;YACF,eAAe,EAAE,EAAE;SACpB,CAAC,CAAC;QACH,gBAAM,CAAC,KAAK,CAAC,uCAAuC,GAAG,EAAE,CAAC,CAAC;IAC7D,CAAC;CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","debug_id":"00e08de9-e64d-51a6-beb8-1103631e4825"}