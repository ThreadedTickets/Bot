{"version":3,"file":"update.js","sources":["src/commands/interactions/slash/update.ts"],"sourceRoot":"/","sourcesContent":["import { MessageFlags, SlashCommandBuilder } from \"discord.js\";\nimport { AppCommand } from \"../../../types/Command\";\nimport { getAnnouncement } from \"../../../utils/bot/viewAnnouncement\";\nimport { t } from \"../../../lang\";\nimport { getServerLocale } from \"../../../utils/bot/getServer\";\n\nconst command: AppCommand = {\n  type: \"slash\",\n  data: new SlashCommandBuilder()\n    .setName(\"update\")\n    .setDescription(\"Get the latest update from the developers\")\n    .setNameLocalizations({})\n    .setDescriptionLocalizations({}),\n\n  async execute(client, data, interaction) {\n    const announcement = await getAnnouncement();\n\n    if (!announcement)\n      return interaction.reply({\n        flags: [MessageFlags.Ephemeral],\n        content: t(\n          interaction.guildId\n            ? await getServerLocale(interaction.guildId)\n            : \"en\",\n          \"NO_ANNOUNCEMENT\"\n        ),\n      });\n\n    interaction.reply({\n      flags: [MessageFlags.Ephemeral],\n      ...JSON.parse(announcement),\n    });\n  },\n};\n\nexport default command;\n"],"names":[],"mappings":";;;;AAAA,2CAA+D;AAE/D,0EAAsE;AACtE,wCAAkC;AAClC,4DAA+D;AAE/D,MAAM,OAAO,GAAe;IAC1B,IAAI,EAAE,OAAO;IACb,IAAI,EAAE,IAAI,gCAAmB,EAAE;SAC5B,OAAO,CAAC,QAAQ,CAAC;SACjB,cAAc,CAAC,2CAA2C,CAAC;SAC3D,oBAAoB,CAAC,EAAE,CAAC;SACxB,2BAA2B,CAAC,EAAE,CAAC;IAElC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,WAAW;QACrC,MAAM,YAAY,GAAG,MAAM,IAAA,kCAAe,GAAE,CAAC;QAE7C,IAAI,CAAC,YAAY;YACf,OAAO,WAAW,CAAC,KAAK,CAAC;gBACvB,KAAK,EAAE,CAAC,yBAAY,CAAC,SAAS,CAAC;gBAC/B,OAAO,EAAE,IAAA,QAAC,EACR,WAAW,CAAC,OAAO;oBACjB,CAAC,CAAC,MAAM,IAAA,2BAAe,EAAC,WAAW,CAAC,OAAO,CAAC;oBAC5C,CAAC,CAAC,IAAI,EACR,iBAAiB,CAClB;aACF,CAAC,CAAC;QAEL,WAAW,CAAC,KAAK,CAAC;YAChB,KAAK,EAAE,CAAC,yBAAY,CAAC,SAAS,CAAC;YAC/B,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;SAC5B,CAAC,CAAC;IACL,CAAC;CACF,CAAC;AAEF,kBAAe,OAAO,CAAC","debug_id":"1c35277b-e898-55b3-8360-58278363cf55"}