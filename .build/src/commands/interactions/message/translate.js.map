{"version":3,"file":"translate.js","sources":["src/commands/interactions/message/translate.ts"],"sourceRoot":"/","sourcesContent":["import {\n  ContextMenuCommandBuilder,\n  ApplicationCommandType,\n  InteractionContextType,\n  MessageFlags,\n} from \"discord.js\";\nimport { AppCommand } from \"../../../types/Command\";\nimport { t } from \"../../../lang\";\nimport translate from \"google-translate-api-x\";\nimport colours from \"../../../constants/colours\";\nimport { onError } from \"../../../utils/onError\";\n\nconst command: AppCommand = {\n  type: \"message\",\n  testGuild: false,\n  data: new ContextMenuCommandBuilder()\n    .setName(\"Translate Message\")\n    .setNameLocalizations({})\n    .setType(ApplicationCommandType.Message)\n    .setContexts(InteractionContextType.Guild),\n  execute: async (client, data, interaction) => {\n    if (!interaction.guildId) return; // We already know this as the command can only be run in guilds but this just shuts ts up\n\n    const lang = data.lang!;\n    if (!interaction.targetMessage.content)\n      return interaction.reply(\n        (await onError(new Error(\"No content\"))).discordMsg\n      );\n    interaction.reply({\n      flags: [MessageFlags.Ephemeral],\n      embeds: [\n        {\n          title: t(lang, \"COMMANDS_TRANSLATE_MESSAGE_TRANSLATED\"),\n          color: parseInt(colours.success, 16),\n          description: `\\`\\`\\`\\n${\n            (\n              await translate(interaction.targetMessage.content, {\n                to: lang,\n              })\n            ).text\n          }\\n\\`\\`\\``,\n        },\n      ],\n    });\n  },\n};\n\nexport default command;\n"],"names":[],"mappings":";;;;;;;AAAA,2CAKoB;AAEpB,wCAAkC;AAClC,oFAA+C;AAC/C,yEAAiD;AACjD,oDAAiD;AAEjD,MAAM,OAAO,GAAe;IAC1B,IAAI,EAAE,SAAS;IACf,SAAS,EAAE,KAAK;IAChB,IAAI,EAAE,IAAI,sCAAyB,EAAE;SAClC,OAAO,CAAC,mBAAmB,CAAC;SAC5B,oBAAoB,CAAC,EAAE,CAAC;SACxB,OAAO,CAAC,mCAAsB,CAAC,OAAO,CAAC;SACvC,WAAW,CAAC,mCAAsB,CAAC,KAAK,CAAC;IAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,EAAE;QAC3C,IAAI,CAAC,WAAW,CAAC,OAAO;YAAE,OAAO,CAAC,0FAA0F;QAE5H,MAAM,IAAI,GAAG,IAAI,CAAC,IAAK,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO;YACpC,OAAO,WAAW,CAAC,KAAK,CACtB,CAAC,MAAM,IAAA,iBAAO,EAAC,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,UAAU,CACpD,CAAC;QACJ,WAAW,CAAC,KAAK,CAAC;YAChB,KAAK,EAAE,CAAC,yBAAY,CAAC,SAAS,CAAC;YAC/B,MAAM,EAAE;gBACN;oBACE,KAAK,EAAE,IAAA,QAAC,EAAC,IAAI,EAAE,uCAAuC,CAAC;oBACvD,KAAK,EAAE,QAAQ,CAAC,iBAAO,CAAC,OAAO,EAAE,EAAE,CAAC;oBACpC,WAAW,EAAE,WACX,CACE,MAAM,IAAA,gCAAS,EAAC,WAAW,CAAC,aAAa,CAAC,OAAO,EAAE;wBACjD,EAAE,EAAE,IAAI;qBACT,CAAC,CACH,CAAC,IACJ,UAAU;iBACX;aACF;SACF,CAAC,CAAC;IACL,CAAC;CACF,CAAC;AAEF,kBAAe,OAAO,CAAC","debug_id":"f348bc99-1da5-5fe8-99d5-12e7cdc18895"}