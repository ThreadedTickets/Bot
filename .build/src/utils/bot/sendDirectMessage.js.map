{"version":3,"file":"sendDirectMessage.js","sources":["src/utils/bot/sendDirectMessage.ts"],"sourceRoot":"/","sourcesContent":["import { Client, MessageCreateOptions, MessagePayload, User } from \"discord.js\";\nimport logger from \"../logger\";\n\n/**\n * Sends a DM to a user by their ID with full message options.\n * @param client - The Discord Client instance.\n * @param userId - The user ID to DM.\n * @param message - The message content or options (string, embeds, etc).\n * @returns The sent message or null if failed.\n */\nexport async function sendDirectMessage(\n  client: Client,\n  userId: string,\n  message: string | MessagePayload | MessageCreateOptions\n) {\n  try {\n    const user: User = await client.users.fetch(userId);\n    if (!user) throw new Error(\"User not found\");\n\n    const sent = await user.send(message);\n    return sent;\n  } catch (err) {\n    logger.warn(`Failed to DM user ${userId}`, err);\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAUA,8CAeC;AAxBD,uDAA+B;AAE/B;;;;;;GAMG;AACI,KAAK,UAAU,iBAAiB,CACrC,MAAc,EACd,MAAc,EACd,OAAuD;IAEvD,IAAI,CAAC;QACH,MAAM,IAAI,GAAS,MAAM,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAE7C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC;IACd,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACb,gBAAM,CAAC,IAAI,CAAC,qBAAqB,MAAM,EAAE,EAAE,GAAG,CAAC,CAAC;QAChD,OAAO,IAAI,CAAC;IACd,CAAC;AACH,CAAC","debug_id":"c1b88a40-29e6-5284-b4ac-9ab343ae03e8"}