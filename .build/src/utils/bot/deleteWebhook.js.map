{"version":3,"file":"deleteWebhook.js","sources":["src/utils/bot/deleteWebhook.ts"],"sourceRoot":"/","sourcesContent":["import { WebhookClient } from \"discord.js\";\r\nimport logger from \"../logger\";\r\n\r\nexport async function deleteWebhookByUrl(webhookUrl: string): Promise<void> {\r\n  try {\r\n    // Extract ID and token from the URL\r\n    const match = webhookUrl.match(/\\/webhooks\\/(\\d+)\\/([\\w-]+)/);\r\n    if (!match) throw new Error(\"Invalid webhook URL format\");\r\n\r\n    const [, id, token] = match;\r\n    const webhook = new WebhookClient({ id, token });\r\n\r\n    await webhook.delete();\r\n    logger.debug(`Deleted logging webhook ${id}`);\r\n  } catch (error) {\r\n    logger.error(`Failed to delete logging webhook ${webhookUrl}`, error);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA,gDAcC;AAjBD,2CAA2C;AAC3C,uDAA+B;AAExB,KAAK,UAAU,kBAAkB,CAAC,UAAkB;IACzD,IAAI,CAAC;QACH,oCAAoC;QACpC,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;QAC9D,IAAI,CAAC,KAAK;YAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAE1D,MAAM,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC;QAC5B,MAAM,OAAO,GAAG,IAAI,0BAAa,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;QAEjD,MAAM,OAAO,CAAC,MAAM,EAAE,CAAC;QACvB,gBAAM,CAAC,KAAK,CAAC,2BAA2B,EAAE,EAAE,CAAC,CAAC;IAChD,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,gBAAM,CAAC,KAAK,CAAC,oCAAoC,UAAU,EAAE,EAAE,KAAK,CAAC,CAAC;IACxE,CAAC;AACH,CAAC","debug_id":"40ed79a3-7a10-5f81-ac4c-35f588f883a1"}