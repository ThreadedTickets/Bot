{"version":3,"file":"Command.js","sources":["src/types/Command.ts"],"sourceRoot":"/","sourcesContent":["import {\r\n  Client,\r\n  ContextMenuCommandBuilder,\r\n  Message,\r\n  UserContextMenuCommandInteraction,\r\n  MessageContextMenuCommandInteraction,\r\n  SlashCommandBuilder,\r\n  AutocompleteInteraction,\r\n  SlashCommandSubcommandsOnlyBuilder,\r\n  ChatInputCommandInteraction,\r\n  SlashCommandOptionsOnlyBuilder,\r\n} from \"discord.js\";\r\nimport { CommandPermission, PermissionLevel } from \"../constants/permissions\";\r\nimport { EventData } from \"../handlers/eventHandler\";\r\n\r\nexport type ArgType = \"string\" | \"number\" | \"boolean\";\r\n\r\nexport interface ArgSpec {\r\n  name: string;\r\n  type: ArgType;\r\n  optional: boolean;\r\n  rest?: boolean;\r\n  choices?: string[];\r\n  condition?: string;\r\n  default?: string;\r\n}\r\n\r\nexport interface PrefixCommand<\r\n  TArgs extends Record<string, any> = {},\r\n  TAllowedIn extends \"guilds\" | \"dms\" | \"all\" = \"all\"\r\n> {\r\n  name: string;\r\n  aliases?: string[];\r\n  /**\r\n   *\r\n   */\r\n  usage: string;\r\n  permissionLevel?: CommandPermission;\r\n  discordPermission?: PermissionLevel;\r\n  allowedIn?: TAllowedIn;\r\n  execute: (\r\n    client: Client,\r\n    data: EventData,\r\n    message: TAllowedIn extends \"guilds\"\r\n      ? Message<true>\r\n      : TAllowedIn extends \"dms\"\r\n      ? Message<false>\r\n      : Message,\r\n    args: TArgs\r\n  ) => unknown;\r\n}\r\n\r\ntype ChatInputCommand = {\r\n  type: \"slash\";\r\n  data:\r\n    | SlashCommandBuilder\r\n    | SlashCommandSubcommandsOnlyBuilder\r\n    | SlashCommandOptionsOnlyBuilder;\r\n  permissionLevel?: CommandPermission;\r\n  testGuild?: boolean;\r\n  execute: (\r\n    client: Client,\r\n    data: EventData,\r\n    interaction: ChatInputCommandInteraction\r\n  ) => unknown;\r\n  autocomplete?: (\r\n    client: Client,\r\n    interaction: AutocompleteInteraction\r\n  ) => unknown;\r\n};\r\n\r\ntype UserContextCommand = {\r\n  type: \"user\";\r\n  data: ContextMenuCommandBuilder;\r\n  permissionLevel?: CommandPermission;\r\n  testGuild?: boolean;\r\n  execute: (\r\n    client: Client,\r\n    data: EventData,\r\n    interaction: UserContextMenuCommandInteraction\r\n  ) => unknown;\r\n};\r\n\r\ntype MessageContextCommand = {\r\n  type: \"message\";\r\n  data: ContextMenuCommandBuilder;\r\n  permissionLevel?: CommandPermission;\r\n  testGuild?: boolean;\r\n  execute: (\r\n    client: Client,\r\n    data: EventData,\r\n    interaction: MessageContextMenuCommandInteraction\r\n  ) => unknown;\r\n};\r\n\r\nexport type AppCommand =\r\n  | ChatInputCommand\r\n  | UserContextCommand\r\n  | MessageContextCommand;\r\n"],"names":[],"mappings":"","debug_id":"1740c38a-18a0-5a89-80c6-9a78a0c8892f"}